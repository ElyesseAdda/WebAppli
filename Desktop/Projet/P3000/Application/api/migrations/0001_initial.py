# Generated by Django 5.1.1 on 2025-08-21 17:56

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AgencyExpense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=255)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('type', models.CharField(choices=[('fixed', 'Mensuel fixe'), ('punctual', 'Ponctuel')], max_length=10)),
                ('date', models.DateField()),
                ('end_date', models.DateField(blank=True, null=True)),
                ('category', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Agent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=25)),
                ('surname', models.CharField(max_length=25)),
                ('address', models.CharField(blank=True, max_length=100, null=True)),
                ('phone_Number', models.IntegerField()),
                ('taux_Horaire', models.FloatField(blank=True, null=True)),
                ('conge', models.FloatField(blank=True, null=True)),
                ('primes', models.JSONField(blank=True, default=dict, null=True)),
                ('heure_debut', models.TimeField(blank=True, null=True)),
                ('heure_fin', models.TimeField(blank=True, null=True)),
                ('heure_pause_debut', models.TimeField(blank=True, null=True)),
                ('heure_pause_fin', models.TimeField(blank=True, null=True)),
                ('jours_travail', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='AppelOffres',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('chantier_name', models.CharField(max_length=255, unique=True)),
                ('date_debut', models.DateField(auto_now_add=True)),
                ('date_fin', models.DateField(null=True)),
                ('montant_ttc', models.FloatField(null=True)),
                ('montant_ht', models.FloatField(null=True)),
                ('state_chantier', models.CharField(choices=[('Terminé', 'Terminé'), ('En Cours', 'En Cours'), ('Facturé', 'Facturé')], default='En Cours', max_length=20)),
                ('ville', models.CharField(max_length=100)),
                ('rue', models.CharField(max_length=100)),
                ('code_postal', models.CharField(blank=True, max_length=10, null=True, validators=[django.core.validators.RegexValidator(code='invalid_codepostal', message='Le code postal doit être exactement 5 chiffres.', regex='^\\d{5}$')])),
                ('cout_materiel', models.FloatField(null=True)),
                ('cout_main_oeuvre', models.FloatField(null=True)),
                ('cout_sous_traitance', models.FloatField(null=True)),
                ('cout_estime_main_oeuvre', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name="Coût estimé main d'œuvre")),
                ('cout_estime_materiel', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Coût estimé matériel')),
                ('marge_estimee', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Marge estimée')),
                ('description', models.TextField(null=True)),
                ('taux_fixe', models.FloatField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('en_attente', 'En attente validation'), ('refuse', 'Refusé'), ('valide', 'Validé')], default='en_attente', max_length=20, verbose_name="Statut de l'appel d'offres")),
                ('date_validation', models.DateField(blank=True, null=True)),
                ('raison_refus', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Banque',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom_banque', models.CharField(max_length=100, unique=True, verbose_name='Nom de la banque')),
            ],
            options={
                'verbose_name': 'Banque',
                'verbose_name_plural': 'Banques',
                'ordering': ['nom_banque'],
            },
        ),
        migrations.CreateModel(
            name='Chantier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('chantier_name', models.CharField(max_length=255, unique=True)),
                ('date_debut', models.DateField(auto_now_add=True)),
                ('date_fin', models.DateField(null=True)),
                ('montant_ttc', models.FloatField(null=True)),
                ('montant_ht', models.FloatField(null=True)),
                ('state_chantier', models.CharField(choices=[('Terminé', 'Terminé'), ('En Cours', 'En Cours'), ('Facturé', 'Facturé')], default='En Cours', max_length=20)),
                ('ville', models.CharField(max_length=100)),
                ('rue', models.CharField(max_length=100)),
                ('code_postal', models.CharField(blank=True, max_length=10, null=True, validators=[django.core.validators.RegexValidator(code='invalid_codepostal', message='Le code postal doit être exactement 5 chiffres.', regex='^\\d{5}$')])),
                ('cout_materiel', models.FloatField(null=True)),
                ('cout_main_oeuvre', models.FloatField(null=True)),
                ('cout_sous_traitance', models.FloatField(null=True)),
                ('cout_estime_main_oeuvre', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name="Coût estimé main d'œuvre")),
                ('cout_estime_materiel', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Coût estimé matériel')),
                ('marge_estimee', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Marge estimée')),
                ('description', models.TextField(null=True)),
                ('taux_fixe', models.FloatField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=25)),
                ('surname', models.CharField(max_length=25)),
                ('client_mail', models.EmailField(max_length=254)),
                ('phone_Number', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='Fournisseur',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=25)),
                ('Fournisseur_mail', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone_Number', models.CharField(blank=True, max_length=15, null=True)),
                ('description_fournisseur', models.CharField(blank=True, max_length=250, null=True)),
                ('magasin', models.CharField(blank=True, max_length=250, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='LigneDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=255)),
                ('unite', models.CharField(max_length=10)),
                ('cout_main_oeuvre', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('cout_materiel', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('taux_fixe', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('marge', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('prix', models.DecimalField(decimal_places=2, max_digits=10)),
            ],
        ),
        migrations.CreateModel(
            name='Materiel_produit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name_produit', models.CharField(max_length=25)),
                ('description_produit', models.CharField(max_length=250)),
                ('price_ht', models.FloatField()),
                ('name_fournisseur', models.CharField(max_length=25)),
            ],
        ),
        migrations.CreateModel(
            name='Parametres',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=50, unique=True)),
                ('valeur', models.DecimalField(decimal_places=2, max_digits=5)),
                ('description', models.CharField(blank=True, max_length=255)),
                ('date_modification', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Paramètre',
                'verbose_name_plural': 'Paramètres',
            },
        ),
        migrations.CreateModel(
            name='Partie',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=500)),
                ('type', models.CharField(choices=[('PEINTURE', 'Peinture'), ('FACADE', 'Façade'), ('TCE', 'TCE')], default='PEINTURE', help_text="Domaine d'activité de la partie", max_length=20)),
            ],
        ),
        migrations.CreateModel(
            name='SousTraitant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('entreprise', models.CharField(max_length=255)),
                ('capital', models.DecimalField(decimal_places=2, max_digits=15)),
                ('adresse', models.CharField(max_length=255)),
                ('code_postal', models.CharField(max_length=10)),
                ('ville', models.CharField(max_length=100)),
                ('forme_juridique', models.CharField(default='SARL', max_length=100)),
                ('numero_rcs', models.CharField(max_length=100, unique=True)),
                ('representant', models.CharField(max_length=255)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('type', models.CharField(blank=True, choices=[('NETTOYAGE', 'Nettoyage'), ('BTP', 'BTP'), ('TCE', 'TCE'), ('AUTRE', 'Autre')], max_length=20, null=True, verbose_name="Type d'activité")),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='TauxFixe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valeur', models.DecimalField(decimal_places=2, default=19, max_digits=5)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('annee', models.PositiveIntegerField(unique=True)),
            ],
            options={
                'get_latest_by': 'date_modification',
            },
        ),
        migrations.CreateModel(
            name='AgencyExpenseAggregate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('year', models.IntegerField()),
                ('month', models.IntegerField()),
                ('total_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('totals_by_category', models.JSONField(blank=True, default=list)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['year', 'month'],
                'indexes': [models.Index(fields=['year', 'month'], name='api_agencye_year_a94087_idx')],
                'unique_together': {('year', 'month')},
            },
        ),
        migrations.CreateModel(
            name='BonCommande',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(max_length=50, unique=True)),
                ('fournisseur', models.CharField(max_length=100)),
                ('montant_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('statut', models.CharField(choices=[('en_attente', 'En attente Livraison'), ('livre_chantier', 'Livré Chantier'), ('retrait_magasin', 'Retrait Magasin')], default='en_attente', max_length=20)),
                ('date_livraison', models.DateField(blank=True, null=True)),
                ('magasin_retrait', models.CharField(blank=True, max_length=200, null=True)),
                ('date_commande', models.DateField(default='2025-01-01')),
                ('statut_paiement', models.CharField(choices=[('non_paye', 'Non Payé'), ('paye', 'Payé'), ('paye_partiel', 'Payé Partiellement')], default='non_paye', max_length=20)),
                ('montant_paye', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('date_paiement', models.DateField(blank=True, null=True)),
                ('mode_paiement', models.CharField(blank=True, max_length=50, null=True)),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.agent')),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.chantier')),
            ],
        ),
        migrations.CreateModel(
            name='Avenant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.IntegerField()),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('montant_total', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='avenants', to='api.chantier')),
            ],
            options={
                'ordering': ['numero'],
                'unique_together': {('chantier', 'numero')},
            },
        ),
        migrations.CreateModel(
            name='ChantierLigneSupplementaire',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=255)),
                ('montant', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes_supplementaires_default', to='api.chantier')),
            ],
            options={
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='ContratSousTraitance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type_contrat', models.CharField(choices=[('BTP', 'BTP'), ('NETTOYAGE', 'Nettoyage')], default='NETTOYAGE', max_length=20)),
                ('description_prestation', models.TextField()),
                ('date_debut', models.DateField()),
                ('duree', models.CharField(default="Jusqu'à livraison du chantier", max_length=100)),
                ('adresse_prestation', models.CharField(max_length=255)),
                ('nom_operation', models.CharField(max_length=255)),
                ('montant_operation', models.DecimalField(decimal_places=2, max_digits=10)),
                ('nom_maitre_ouvrage', models.CharField(max_length=255, verbose_name="Nom du maître d'ouvrage")),
                ('nom_maitre_oeuvre', models.CharField(max_length=255, verbose_name="Nom du maître d'œuvre")),
                ('date_creation', models.DateField(verbose_name='Date de création du contrat')),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contrats_sous_traitance', to='api.chantier')),
                ('sous_traitant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contrats', to='api.soustraitant')),
            ],
            options={
                'ordering': ['-date_creation'],
            },
        ),
        migrations.CreateModel(
            name='AvenantSousTraitance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.IntegerField()),
                ('description', models.TextField()),
                ('montant', models.DecimalField(decimal_places=2, max_digits=10)),
                ('type_travaux', models.CharField(default='LOT PEINTURE', max_length=100)),
                ('date_creation', models.DateField(verbose_name="Date de création de l'avenant")),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('contrat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='avenants', to='api.contratsoustraitance')),
            ],
            options={
                'ordering': ['-date_creation'],
                'unique_together': {('contrat', 'numero')},
            },
        ),
        migrations.CreateModel(
            name='Devis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(max_length=50, unique=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('price_ht', models.FloatField()),
                ('price_ttc', models.FloatField()),
                ('tva_rate', models.FloatField()),
                ('nature_travaux', models.CharField(blank=True, max_length=255, null=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Terminé', 'Terminé'), ('En Cours', 'En Cours'), ('Facturé', 'Facturé')], default='En Cours', max_length=20)),
                ('lignes_speciales', models.JSONField(blank=True, default=dict)),
                ('lignes_display', models.JSONField(blank=True, default=dict)),
                ('devis_chantier', models.BooleanField(default=False)),
                ('appel_offres', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='devis', to='api.appeloffres')),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='devis', to='api.chantier')),
                ('client', models.ManyToManyField(blank=True, related_name='devis', to='api.client')),
            ],
        ),
        migrations.CreateModel(
            name='Event',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('event_type', models.CharField(choices=[('presence', 'Présence'), ('absence', 'Absence'), ('conge', 'Congé'), ('modification_horaire', 'Horaire Modifié')], default='absence', max_length=30)),
                ('subtype', models.CharField(blank=True, choices=[('justifiee', 'Justifiée'), ('injustifiee', 'Injustifiée'), ('maladie', 'Maladie'), ('rtt', 'RTT'), ('paye', 'Payé'), ('sans_solde', 'Sans solde'), ('parental', 'Parental'), ('maternite', 'Maternité'), ('paternite', 'Paternité'), (None, 'Aucun')], max_length=30, null=True)),
                ('hours_modified', models.IntegerField(default=0)),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.agent')),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.chantier')),
            ],
        ),
        migrations.CreateModel(
            name='Facture',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(max_length=50, unique=True)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('state_facture', models.CharField(choices=[('En cours', 'En cours'), ('En attente', 'En attente'), ('Attente paiement', 'Attente paiement'), ('Payée', 'Payée')], default='En attente', max_length=20)),
                ('type_facture', models.CharField(choices=[('classique', 'Classique'), ('ts', 'Travaux Supplémentaires'), ('cie', 'CIE')], default='classique', max_length=20)),
                ('designation', models.CharField(blank=True, max_length=255)),
                ('date_echeance', models.DateField(blank=True, null=True)),
                ('date_paiement', models.DateField(blank=True, null=True)),
                ('mode_paiement', models.CharField(default='virement', max_length=50)),
                ('price_ht', models.FloatField()),
                ('price_ttc', models.FloatField()),
                ('mois_situation', models.IntegerField(blank=True, null=True)),
                ('annee_situation', models.IntegerField(blank=True, null=True)),
                ('avenant', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.avenant')),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='factures', to='api.chantier')),
                ('devis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='factures', to='api.devis')),
            ],
        ),
        migrations.CreateModel(
            name='FacturePartie',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('ordre', models.IntegerField(default=0)),
                ('facture', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parties', to='api.facture')),
            ],
        ),
        migrations.CreateModel(
            name='FactureSousPartie',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.TextField()),
                ('ordre', models.IntegerField(default=0)),
                ('partie', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sous_parties', to='api.facturepartie')),
            ],
        ),
        migrations.CreateModel(
            name='FactureLigneDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.TextField()),
                ('unite', models.CharField(max_length=50)),
                ('quantite', models.DecimalField(decimal_places=2, max_digits=10)),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('sous_partie', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes_details', to='api.facturesouspartie')),
            ],
        ),
        migrations.CreateModel(
            name='FactureTS',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_ts', models.IntegerField()),
                ('designation', models.CharField(blank=True, max_length=255)),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('montant_ht', models.DecimalField(decimal_places=2, max_digits=10)),
                ('montant_ttc', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tva_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('avenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='factures_ts', to='api.avenant')),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='factures_ts', to='api.chantier')),
                ('devis', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='facture_ts', to='api.devis')),
            ],
            options={
                'ordering': ['numero_ts'],
            },
        ),
        migrations.CreateModel(
            name='FournisseurMagasin',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fournisseur', models.CharField(max_length=100)),
                ('magasin', models.CharField(max_length=200)),
                ('derniere_utilisation', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-derniere_utilisation'],
                'unique_together': {('fournisseur', 'magasin')},
            },
        ),
        migrations.CreateModel(
            name='LaborCost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('week', models.IntegerField()),
                ('year', models.IntegerField()),
                ('hours_normal', models.DecimalField(decimal_places=2, default=0, help_text='Heures normales (hors samedi/dimanche/férié)', max_digits=10)),
                ('hours_samedi', models.DecimalField(decimal_places=2, default=0, help_text='Heures effectuées le samedi', max_digits=10)),
                ('hours_dimanche', models.DecimalField(decimal_places=2, default=0, help_text='Heures effectuées le dimanche', max_digits=10)),
                ('hours_ferie', models.DecimalField(decimal_places=2, default=0, help_text='Heures effectuées les jours fériés', max_digits=10)),
                ('cost_normal', models.DecimalField(decimal_places=2, default=0, help_text='Coût des heures normales', max_digits=10)),
                ('cost_samedi', models.DecimalField(decimal_places=2, default=0, help_text='Coût des heures samedi (majoration)', max_digits=10)),
                ('cost_dimanche', models.DecimalField(decimal_places=2, default=0, help_text='Coût des heures dimanche (majoration)', max_digits=10)),
                ('cost_ferie', models.DecimalField(decimal_places=2, default=0, help_text='Coût des heures férié (majoration)', max_digits=10)),
                ('details_majoration', models.JSONField(blank=True, default=list, help_text='Détail des jours avec majoration (samedi, dimanche, férié)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='labor_costs', to='api.agent')),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='labor_costs', to='api.chantier')),
            ],
        ),
        migrations.CreateModel(
            name='FactureLigne',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantite', models.DecimalField(decimal_places=2, max_digits=10)),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_ht', models.DecimalField(decimal_places=2, max_digits=10)),
                ('facture', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes_details', to='api.facture')),
                ('ligne_detail', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.lignedetail')),
            ],
        ),
        migrations.CreateModel(
            name='DevisLigne',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantite', models.DecimalField(decimal_places=2, max_digits=10)),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('devis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='api.devis')),
                ('ligne_detail', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.lignedetail')),
            ],
        ),
        migrations.CreateModel(
            name='MonthlyHours',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateField(default=django.utils.timezone.now)),
                ('hours', models.DecimalField(decimal_places=2, max_digits=6)),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='monthly_hours', to='api.agent')),
            ],
        ),
        migrations.CreateModel(
            name='MonthlyPresence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateField()),
                ('days_present', models.IntegerField(default=0)),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.agent')),
            ],
        ),
        migrations.CreateModel(
            name='PaiementFournisseurMateriel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fournisseur', models.CharField(max_length=255)),
                ('mois', models.IntegerField()),
                ('annee', models.IntegerField()),
                ('montant', models.DecimalField(decimal_places=2, max_digits=12)),
                ('date_saisie', models.DateTimeField(auto_now=True)),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paiements_materiel', to='api.chantier')),
            ],
            options={
                'verbose_name': 'Paiement Fournisseur Matériel',
                'verbose_name_plural': 'Paiements Fournisseurs Matériel',
            },
        ),
        migrations.AddField(
            model_name='lignedetail',
            name='partie',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lignes_details', to='api.partie'),
        ),
        migrations.CreateModel(
            name='Presence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('heures_travail', models.FloatField()),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='presences', to='api.agent')),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='presences', to='api.chantier')),
            ],
        ),
        migrations.CreateModel(
            name='Quitus',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('state_quitus', models.CharField(choices=[('Terminé', 'Terminé'), ('En Cours', 'En Cours'), ('Facturé', 'Facturé')], default='En Cours', max_length=20)),
                ('description_quitus', models.CharField(max_length=250)),
                ('chantier', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='quitus', to='api.chantier')),
                ('client', models.ManyToManyField(blank=True, related_name='quitus', to='api.client')),
            ],
        ),
        migrations.CreateModel(
            name='Schedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('week', models.IntegerField()),
                ('year', models.IntegerField(default=2025)),
                ('day', models.CharField(max_length=10)),
                ('hour', models.CharField(max_length=10)),
                ('agent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.agent')),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.chantier')),
            ],
        ),
        migrations.CreateModel(
            name='Situation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.IntegerField(blank=True, default=1, null=True)),
                ('numero_situation', models.CharField(max_length=50)),
                ('numero_cp', models.CharField(blank=True, max_length=50, null=True, verbose_name='Numéro CP')),
                ('mois', models.IntegerField()),
                ('annee', models.IntegerField()),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_validation', models.DateTimeField(blank=True, null=True)),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('validee', 'Validée'), ('facturee', 'Facturée')], default='brouillon', max_length=20)),
                ('date_envoi', models.DateField(blank=True, null=True)),
                ('delai_paiement', models.IntegerField(blank=True, default=45, null=True)),
                ('montant_reel_ht', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('date_paiement_reel', models.DateField(blank=True, null=True)),
                ('montant_precedent', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('montant_ht_mois', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('montant_total', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('pourcentage_avancement', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('cumul_precedent', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('montant_apres_retenues', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('montant_total_cumul_ht', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('tva', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('retenue_garantie', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('taux_prorata', models.DecimalField(decimal_places=2, default=2.5, max_digits=5)),
                ('montant_prorata', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('retenue_cie', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('montant_total_devis', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('montant_total_travaux', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_avancement', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('banque', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.banque', verbose_name='Banque de paiement')),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.chantier')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='situations_created', to=settings.AUTH_USER_MODEL)),
                ('devis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.devis')),
                ('validated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='situations_validated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-annee', '-mois'],
            },
        ),
        migrations.CreateModel(
            name='SituationDateEnvoi',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_envoi', models.DateField(blank=True, null=True)),
                ('situation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='api.situation')),
            ],
        ),
        migrations.CreateModel(
            name='SituationFactureCIE',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('montant_ht', models.DecimalField(decimal_places=2, max_digits=10)),
                ('facture', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.facture')),
                ('situation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.situation')),
            ],
        ),
        migrations.CreateModel(
            name='SituationLigne',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=255)),
                ('quantite', models.DecimalField(decimal_places=2, max_digits=10)),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_ht', models.DecimalField(decimal_places=2, max_digits=10)),
                ('pourcentage_precedent', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('pourcentage_actuel', models.DecimalField(decimal_places=2, max_digits=5)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=10)),
                ('ligne_devis', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='api.devisligne')),
                ('situation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='api.situation')),
            ],
        ),
        migrations.CreateModel(
            name='SituationLigneAvenant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('montant_ht', models.DecimalField(decimal_places=2, max_digits=10)),
                ('pourcentage_precedent', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('pourcentage_actuel', models.DecimalField(decimal_places=2, max_digits=5)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=10)),
                ('avenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.avenant')),
                ('facture_ts', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.facturets')),
                ('situation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes_avenant', to='api.situation')),
            ],
            options={
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='SituationLigneSupplementaire',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=255)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=10)),
                ('type', models.CharField(choices=[('deduction', 'Déduction'), ('ajout', 'Ajout')], default='deduction', max_length=20)),
                ('situation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes_supplementaires', to='api.situation')),
            ],
            options={
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Societe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom_societe', models.CharField(max_length=25)),
                ('ville_societe', models.CharField(max_length=100)),
                ('rue_societe', models.CharField(max_length=100)),
                ('codepostal_societe', models.CharField(blank=True, max_length=10, null=True, validators=[django.core.validators.RegexValidator(code='invalid_codepostal', message='Le code postal doit être exactement 5 chiffres.', regex='^\\d{5}$')])),
                ('client_name', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.client')),
            ],
        ),
        migrations.CreateModel(
            name='Document',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(choices=[('devis', 'Devis'), ('factures', 'Factures'), ('photos', 'Photos'), ('documents', 'Documents'), ('contrats', 'Contrats'), ('autres', 'Autres')], default='documents', max_length=20)),
                ('s3_key', models.CharField(max_length=500, unique=True)),
                ('filename', models.CharField(max_length=255)),
                ('content_type', models.CharField(max_length=100)),
                ('size', models.BigIntegerField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='api.chantier')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_documents', to=settings.AUTH_USER_MODEL)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to=settings.AUTH_USER_MODEL)),
                ('societe', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='api.societe')),
            ],
            options={
                'verbose_name': 'Document',
                'verbose_name_plural': 'Documents',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='chantier',
            name='societe',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='chantiers', to='api.societe'),
        ),
        migrations.AddField(
            model_name='appeloffres',
            name='societe',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='appels_offres', to='api.societe'),
        ),
        migrations.CreateModel(
            name='SousPartie',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(blank=True, max_length=255, null=True)),
                ('partie', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sous_parties', to='api.partie')),
            ],
        ),
        migrations.AddField(
            model_name='lignedetail',
            name='sous_partie',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes_details', to='api.souspartie'),
        ),
        migrations.CreateModel(
            name='PaiementSousTraitant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_paiement', models.DateField()),
                ('montant_facture_ht', models.DecimalField(decimal_places=2, max_digits=12)),
                ('date_envoi_facture', models.DateField(blank=True, null=True)),
                ('delai_paiement', models.IntegerField(default=45)),
                ('montant_paye_ht', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('date_paiement_reel', models.DateField(blank=True, null=True)),
                ('mois', models.IntegerField(blank=True, null=True)),
                ('annee', models.IntegerField(blank=True, null=True)),
                ('avenant', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='paiements', to='api.avenantsoustraitance')),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paiements_sous_traitant', to='api.chantier')),
                ('contrat', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='paiements', to='api.contratsoustraitance')),
                ('sous_traitant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paiements', to='api.soustraitant')),
            ],
            options={
                'verbose_name': 'Paiement Sous-Traitant',
                'verbose_name_plural': 'Paiements Sous-Traitants',
                'ordering': ['chantier', 'sous_traitant', 'date_paiement'],
            },
        ),
        migrations.CreateModel(
            name='PaiementGlobalSousTraitant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_paiement', models.DateField()),
                ('montant_paye_ht', models.DecimalField(decimal_places=2, max_digits=12)),
                ('date_paiement_reel', models.DateField(blank=True, null=True)),
                ('commentaire', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('chantier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paiements_globaux_sous_traitant', to='api.chantier')),
                ('sous_traitant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paiements_globaux', to='api.soustraitant')),
            ],
            options={
                'verbose_name': 'Paiement Global Sous-Traitant',
                'verbose_name_plural': 'Paiements Globaux Sous-Traitants',
                'ordering': ['chantier', 'sous_traitant', 'date_paiement'],
            },
        ),
        migrations.CreateModel(
            name='Stock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code_produit', models.CharField(default='', max_length=50, unique=True)),
                ('designation', models.CharField(max_length=50)),
                ('prix_unitaire', models.FloatField(default=0)),
                ('unite', models.CharField(max_length=50)),
                ('fournisseur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='produits', to='api.fournisseur')),
            ],
        ),
        migrations.CreateModel(
            name='LigneBonCommande',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('designation', models.CharField(max_length=255)),
                ('quantite', models.IntegerField()),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('bon_commande', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='api.boncommande')),
                ('produit', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.stock')),
            ],
        ),
        migrations.CreateModel(
            name='StockHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantite', models.IntegerField()),
                ('type_operation', models.CharField(choices=[('ajout', 'Ajout'), ('retrait', 'Retrait')], max_length=10)),
                ('date_operation', models.DateTimeField(auto_now_add=True)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=10)),
                ('agent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.agent')),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.chantier')),
                ('stock', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.stock')),
            ],
        ),
        migrations.CreateModel(
            name='StockMovement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mouvement_type', models.CharField(choices=[('entree', 'Entrée'), ('sortie', 'Sortie')], max_length=10)),
                ('quantite', models.PositiveIntegerField()),
                ('date_mouvement', models.DateTimeField(auto_now_add=True)),
                ('commentaire', models.TextField(blank=True, null=True)),
                ('agent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.agent')),
                ('chantier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.chantier')),
                ('stock', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mouvements', to='api.stock')),
            ],
        ),
        migrations.CreateModel(
            name='AgencyExpenseOverride',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.IntegerField()),
                ('year', models.IntegerField()),
                ('description', models.CharField(max_length=255)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('expense', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='overrides', to='api.agencyexpense')),
            ],
            options={
                'unique_together': {('expense', 'month', 'year')},
            },
        ),
        migrations.AddConstraint(
            model_name='facture',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('annee_situation__isnull', False), ('mois_situation__isnull', False), ('type_facture', 'cie')), models.Q(('type_facture', 'cie'), _negated=True), _connector='OR'), name='cie_requires_situation_date'),
        ),
        migrations.AlterUniqueTogether(
            name='facturets',
            unique_together={('chantier', 'numero_ts')},
        ),
        migrations.AddIndex(
            model_name='laborcost',
            index=models.Index(fields=['agent', 'week', 'year'], name='api_laborco_agent_i_f1e716_idx'),
        ),
        migrations.AddIndex(
            model_name='laborcost',
            index=models.Index(fields=['chantier', 'week', 'year'], name='api_laborco_chantie_62acd2_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='laborcost',
            unique_together={('agent', 'chantier', 'week', 'year')},
        ),
        migrations.AlterUniqueTogether(
            name='monthlyhours',
            unique_together={('agent', 'month')},
        ),
        migrations.AlterUniqueTogether(
            name='paiementfournisseurmateriel',
            unique_together={('chantier', 'fournisseur', 'mois', 'annee')},
        ),
        migrations.AlterUniqueTogether(
            name='schedule',
            unique_together={('agent', 'week', 'year', 'day', 'hour')},
        ),
        migrations.AlterUniqueTogether(
            name='situation',
            unique_together={('chantier', 'mois', 'annee')},
        ),
        migrations.AddIndex(
            model_name='document',
            index=models.Index(fields=['societe', 'chantier', 'category'], name='api_documen_societe_01dd75_idx'),
        ),
        migrations.AddIndex(
            model_name='document',
            index=models.Index(fields=['owner'], name='api_documen_owner_i_8e6c0a_idx'),
        ),
        migrations.AddIndex(
            model_name='document',
            index=models.Index(fields=['created_at'], name='api_documen_created_2fddfd_idx'),
        ),
        migrations.AddIndex(
            model_name='document',
            index=models.Index(fields=['is_deleted'], name='api_documen_is_dele_754a77_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='paiementsoustraitant',
            unique_together={('chantier', 'sous_traitant', 'date_paiement', 'avenant')},
        ),
        migrations.AlterUniqueTogether(
            name='paiementglobalsoustraitant',
            unique_together={('chantier', 'sous_traitant', 'date_paiement')},
        ),
        migrations.AlterUniqueTogether(
            name='contratsoustraitance',
            unique_together={('chantier', 'sous_traitant')},
        ),
    ]
